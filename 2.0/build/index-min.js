/*!build time : 2013-10-21 9:49:05 AM*/
KISSY.add("gallery/SimpleTemplate/1.0/index",function(a){function b(b,c){var d=a.makeArray(arguments);return this instanceof arguments.callee?this.init.apply(this,d):new arguments.callee(b,c)}var c=/\\n/g,d={left:"{{",right:"}}"};return a.mix(b,{parse:function(){var b,d=this,e=0,f=this.cached_regexp;return b="}}"==this.right?d.tpl.replace(/(}})([^}])/g,"$1 $2").split(f.split_1):this.tpl.split(f.split),b=a.filter(b,function(b){return b=a.trim(b),b&&!f.right.test(b)}),a.each(b,function(a){f.left.test(a)?(a=a.replace(/@/g,"data."),f.left_equal.test(a)?d.body.push(a.replace(f.left_replace,"	temp.push($1);\n").replace(c,"")):d.body.push(a.replace(f.left_replace_1,"$1\n").replace(c,""))):(d.__lines[e]=a,d.body.push("	temp.push($_this.__lines["+e++ +"]);\n"))}),this.body.join("")}}),a.augment(b,{init:function(a,b){this.tpl=a.tpl,this.left=a.left||d.left,this.right=a.right||d.right,this.body=[],this.__lines={},this.compiled=null,this.data=a.data||{},this.helper=b,this.cached_regexp={split:new RegExp("(?="+this.left+")|("+this.right+")"),split_1:new RegExp("(?="+this.left+")|(}})(?:[^}])"),left:new RegExp("^"+this.left),left_equal:new RegExp("^"+this.left+"\\s*="),left_replace:new RegExp("^"+this.left+"\\s*=(.*)"),left_replace_1:new RegExp("^"+this.left+"\\s*(.*)"),right:new RegExp(this.right)}},compile:function(){if(!this.compiled){var a=[],c=this.helper;if(this.helper)for(var d in c)c.hasOwnProperty(d)&&"function"==typeof c[d]&&a.push("var "+d+'=this.helper["'+d+'"]');this.compiled=new Function("data",a.join(";")+";var temp=[],$_this=this;\n"+b.parse.call(this)+'\n return temp.join("");')}return this.compiled},render:function(b){return this.compile().call(this,a.mix(this.data,b))}}),b});